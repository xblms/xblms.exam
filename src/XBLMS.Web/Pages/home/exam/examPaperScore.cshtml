@page
@{ Layout = "_LayoutHome"; }
@section Styles{
    <style>
        body,html {
            padding: 0;
            margin: 0;
        }
    </style>
}
<div class="rounded-0 shadow p-3 bg-white sticky-top">
    <div class="fw-bolder text-center">
        考试成绩
    </div>
</div>
<div class="py-3 px-5">
    <el-form v-on:submit.native.prevent :inline="true" :model="form">
        <el-form-item label="">
            <el-date-picker v-model="form.dateFrom"
                            type="date"
                            value-format="yyyy-MM-ddTHH:mm:ss.000Z"
                            placeholder="交卷时间 从">
            </el-date-picker>
        </el-form-item>
        <el-form-item label="">
            <el-date-picker v-model="form.dateTo"
                            type="date"
                            value-format="yyyy-MM-ddTHH:mm:ss.000Z"
                            placeholder="到">
            </el-date-picker>
        </el-form-item>
        <el-form-item label="">
            <el-input prefix-icon="el-icon-search" v-model="form.keyWords" placeholder="关键字"></el-input>
        </el-form-item>
        <el-form-item>
            <el-button icon="el-icon-search" v-on:click="btnSearchClick">查 询</el-button>
        </el-form-item>
    </el-form>
</div>
<div class="px-5 pt-3">
    <div v-if="total>0">
        <div>
            <div class="d-flex align-items-center mb-2 pb-3 border border-start-0 border-end-0 border-top-0 card-hover-bg-title" v-for="(paper,index) in list">
                <div class="position-relative">
                    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.91962 8.7141C8.49508 7.38938 9.47567 6 10.8668 6H37.1332C38.5243 6 39.5049 7.38938 39.0804 8.7141C37.8993 12.3995 36 19.0894 36 24C36 28.9106 37.8993 35.6005 39.0804 39.2859C39.5049 40.6106 38.5243 42 37.1332 42H10.8668C9.47567 42 8.49508 40.6106 8.91962 39.2859C10.1007 35.6005 12 28.9106 12 24C12 19.0894 10.1007 12.3995 8.91962 8.7141Z" fill="none" stroke="#333" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" /><path d="M4 15C5.5 17 5.99988 21 5.99988 24C5.99988 27 5.5 31 4 33" stroke="#333" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" /><path d="M18 15.5H30" stroke="#333" stroke-width="1" stroke-linecap="round" /><path d="M18 24H30" stroke="#333" stroke-width="1" stroke-linecap="round" /><path d="M18 32H22" stroke="#333" stroke-width="1" stroke-linecap="round" /><path d="M44 15C42.5 17 42.0001 21 42.0001 24C42.0001 27 42.5 30 44 33" stroke="#333" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" /></svg>
                    <span class="position-absolute top-50 start-100 translate-middle ms-2 mt-2 card-title">.{{ index+1 }}</span>
                </div>
                <div class="ps-8">
                    <div class="mb-3">
                        <span class="card-title">{{ paper.paper.title }}</span>
                    </div>
                    <ul class="list-inline fw-light m-0 d-flex align-items-center">
                        <li class="list-inline-item fs-5">
                            总分：{{paper.paper.totalScore}}
                        </li>
                        <li class="list-inline-item fs-5">
                            及格分：{{paper.paper.passScore}}
                        </li>
                        <li class="list-inline-item fs-5">
                            考试时间：{{ paper.paper.examStartDateTimeStr }}-{{ paper.paper.examEndDateTimeStr }}
                        </li>
                        <li class="list-inline-item fs-5">
                            用时：{{ paper.useTime }}
                        </li>
                        <li class="list-inline-item fs-5">
                            <span v-if="paper.paper.secrecyScore">
                                <span>成绩：{{ paper.score }}</span>
                            </span>
                            <span v-else class="text-warning">成绩未公布</span>
                        </li>
                    </ul>
                </div>
                <div class="ms-auto">
                    <div v-if="paper.paper.secrecyPaperContent">
                        <el-button class="rounded-pill" type="primary" plain icon="el-icon-view" v-on:click.stop="btnViewClick(paper)">查看答卷</el-button>
                    </div>
                    <el-button class="rounded-pill text-warning" icon="el-icon-view" v-else disabled>禁止查看答卷</el-button>
                </div>
            </div>
        </div>
        <div class="my-5 text-center">
            <el-button class="border-0 rounded-pill" icon="el-icon-refresh-right" v-if="list.length>0 && list.length<total" v-on:click="btnLoadMoreClick" :loading="loadMoreLoading">加载更多</el-button>
            <small v-else>没有更多了</small>
        </div>
    </div>
    <div class="pt-10" v-else>
        <el-empty></el-empty>
    </div>
</div>
@section Scripts{
    <script src="/sitefiles/assets/js/home/exam/examPaperScore.js" type="text/javascript"></script>
}