@page
@{ Layout = "_LayoutApp"; }
<template v-if="success">
    <el-result icon="success" title="成功提示" class="pt-8">
        <template slot="subTitle">
            纠错已提交，请等待审核
        </template>
        <template slot="extra">
            <el-button type="primary" icon="el-icon-close" v-on:click="utils.closeLayerSelf">关 闭</el-button>
        </template>
    </el-result>
</template>
<template v-else-if="form && form.tmId>0">
    <el-card>
        <div slot="header">
            <span class="fw-bolder">题目纠错</span>
        </div>
        <div>
            <el-form v-on:submit.native.prevent :size="euiSize" ref="form" :model="form">
                <el-form-item>
                    <span>{{ title }}</span>
                </el-form-item>
                <el-form-item label="理由" prop="reason" :rules="{ required: true, message: '请输入理由' }">
                    <el-input ref="reason" type="textarea" :autosize="{ minRows: 3}" v-model="form.reason"></el-input>
                </el-form-item>
                <el-form-item label="纠错记录" v-if="total>0">
                    <el-table :data="list" border
                              stripe size="mini"
                              style="width: 100%">
                        <el-table-column prop="createdDate"
                                         label="提交时间">
                        </el-table-column>
                        <el-table-column prop="reason"
                                         label="理由">
                        </el-table-column>
                        <el-table-column prop="auditStatusStr"
                                         label="审核状态">
                        </el-table-column>
                    </el-table>
                </el-form-item>
            </el-form>
        </div>
    </el-card>
    <div class="py-8"></div>
    <div class="py-8"></div>
    <div style="position:fixed;left:0;bottom:0;width:100%;" class="text-center mb-5 animate__animated animate__fadeInUp">
        <el-button-group class="rounded-0">
            <el-button class="rounded-start-pill" type="primary" icon="el-icon-check" v-on:click="btnSubmitClick">提 交</el-button>
            <el-button class="rounded-end-pill" v-on:click="utils.closeLayerSelf" icon="el-icon-back">取 消</el-button>
        </el-button-group>
    </div>
</template>
@section Scripts{
<script src="/sitefiles/assets/js/home/exam/examTmCorrection.js" type="text/javascript"></script> }