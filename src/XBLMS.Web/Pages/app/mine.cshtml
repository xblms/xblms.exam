@page
@{ Layout = "_LayoutApp"; }
@section Styles{
    <style>
        html {
            overflow-x: hidden !important;
        }
        body {
            padding: 0;
            margin: 0;
        }
        svg {
            touch-action: auto;
        }
    </style>
}
<div class="m-3 card border-0">
    <div class="card-body ">
        <div class="text-center">
            <img :src="user.avatarUrl || DEFAULT_AVATAR_URL" class="rounded-circle avatar-xl mb-3" alt="">
            <h4 class="mb-1">{{ user.displayName }}</h4>
        </div>
        <div class="mt-4">
            <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('info')">
                <span><i class="el-icon-user me-2"></i>修改个人信息</span>
                <span><i class="el-icon-arrow-right"></i></span>
            </div>
        </div>
        <div class="mt-4">
            <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('pwd')">
                <span><i class="el-icon-key me-2"></i>修改密码</span>
                <span><i class="el-icon-arrow-right"></i></span>
            </div>
        </div>
    </div>
</div>
<el-card class="bg-primary text-white rounded-0">
    <div class="d-flex justify-content-between align-items-center">
        <span>
            <i class="bi bi-database-fill-check text-warning fs-1"></i>
        </span>
        <span>积分 <span class="fw-bolder fs-1">{{ user.pointsTotal }}</span> / {{ user.pointsSurplusTotal }}</span>
    </div>
    <div class="mt-4 text-center">
        <button class="btn btn-warning rounded-pill" v-on:click="btnTab('gifts')"><i class="el-icon-present me-2"></i>积分商城</button>
    </div>
    <div class="mt-4">
        <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('pointlog')">
            <span><i class="bi bi-database-check me-2"></i>积分日志</span>
            <span><i class="el-icon-arrow-right"></i></span>
        </div>
    </div>
    <div class="mt-4">
        <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('shoplog')">
            <span><i class="el-icon-present me-2"></i>兑换记录</span>
            <span><i class="el-icon-arrow-right"></i></span>
        </div>
    </div>
</el-card>
<div class="p-3">
    <el-card class="rounded-0 border-0" shadow="never">
        <div>
            <div class="text-center border-bottom">
                <apexchart type="radialBar" :options="passChartOptions" :series="passSeries" height="399"></apexchart>
            </div>
            <div class="row text-center d-flex align-items-center justify-content-between">
                <div class="text-center col-xl-4 col-lg-4 col-md-4 col-4 border-end border-bottom pb-2">
                    <div class="icon-shape icon-xl rounded-circle card-icon">
                        <i class="bi bi-person-fill-check fs-2 text-success"></i>
                    </div>
                    <div>
                        <div class="mb-2">
                            <span class="h2">{{ examTotal }}</span>
                        </div>
                        <div>累计考试</div>
                    </div>
                </div>
                <div class="text-center col-xl-4 col-lg-4 col-md-4 col-4 border-end border-bottom pb-2">
                    <div class="icon-shape icon-xl rounded-circle card-icon">
                        <i class="bi bi-person-check fs-2 text-primary"></i>
                    </div>
                    <div>
                        <div class="mb-2">
                            <span class="h2">{{ examMoniTotal }}</span>
                        </div>
                        <div>累计模拟</div>
                    </div>
                </div>
                <div class="text-center col-xl-4 col-lg-4 col-md-4 col-4 border-bottom pb-2">
                    <div class="icon-shape icon-xl rounded-circle card-icon">
                        <i class="bi bi-person-lines-fill fs-2 text-warning"></i>
                    </div>
                    <div>
                        <div class="mb-2">
                            <span class="h2">{{ practiceAnswerTmTotal }}</span>
                        </div>
                        <div>累计刷题</div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="text-center col-xl-4 col-lg-4 col-md-4 col-4 border-end">
                    <div>
                        <div class="icon-shape icon-xl rounded-circle card-icon">
                            <i class="bi bi-question-circle-fill fs-2 text-success"></i>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="h2">{{ examQTotal }}</span>
                            </div>
                            <div>参与问卷</div>
                        </div>
                    </div>
                </div>
                <div class="text-center col-xl-4 col-lg-4 col-md-4 col-4 border-end">
                    <div>
                        <div class="icon-shape icon-xl rounded-circle card-icon">
                            <i class="bi bi-person-fill-exclamation fs-2 text-primary"></i>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="h2">{{ examAssTotal }}</span>
                            </div>
                            <div>参与测评</div>
                        </div>
                    </div>
                </div>
                <div class="text-center col-xl-4 col-lg-4 col-md-4 col-4">
                    <div>
                        <div class="icon-shape icon-xl rounded-circle card-icon">
                            <i class="bi bi-bookmarks fs-2 text-warning"></i>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="h2">{{ examCerTotal }}</span>
                            </div>
                            <div>获得证书</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </el-card>
    <div class="mt-3" v-if="systemCode==='Elearning'">
        <el-card class="rounded-0 border-0" shadow="never">
            <div class="row">
                <div class="text-center col-xl-6 col-lg-6 col-md-6 col-6 border-end">
                    <div>
                        <div class="icon-shape rounded-circle text-success card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-activity" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="text-success h2">{{ studyPlanTotalOverCredit }}</span>
                            </div>
                            <div>累计获得学分</div>
                        </div>
                    </div>
                    <div class="mt-2">
                        <div class="icon-shape rounded-circle text-warning card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-activity" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="text-warning h2">{{ studyPlanTotalCredit }}</span>
                            </div>
                            <div class="fw-normal">目标学分</div>
                        </div>
                    </div>
                </div>
                <div class="text-center col-xl-6 col-lg-6 col-md-6 col-6">
                    <div>
                        <div class="icon-shape rounded-circle text-warning card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-palette" viewBox="0 0 16 16">
                                <path d="M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path>
                                <path d="M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8zm-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="text-success h2">{{ totalOverCourse }}</span>
                                <span class="vr mx-2 text-gray-200"></span>
                                <span class="text-warning h2">{{ totalCourse }}</span>
                            </div>
                            <div class="fw-normal">完成课程</div>
                        </div>
                    </div>
                    <div class="mt-2">
                        <div class="icon-shape rounded-circle text-success card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-code-slash" viewBox="0 0 16 16">
                                <path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="mb-2">
                                <span class="text-success h2">{{ utils.formatDuration(totalDuration) }}</span>
                            </div>
                            <div class="fw-normal">学习时长</div>
                        </div>
                    </div>
                </div>
            </div>
        </el-card>
    </div>
    <div class="mt-3">
        <div class="card rounded-0 border-top-0 border-bottom-0">
            <div class="card-body">
                <div>
                    <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('score')">
                        <span><i class="el-icon-document-copy me-2"></i>考试成绩</span>
                        <span><i class="el-icon-arrow-right"></i></span>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('cer')">
                        <span><i class="el-icon-medal me-2"></i>我的证书</span>
                        <span><i class="el-icon-arrow-right"></i></span>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="d-flex justify-content-between align-items-center" v-on:click="btnTab('shuati')">
                        <span><i class="el-icon-document me-2"></i>刷题记录</span>
                        <span><i class="el-icon-arrow-right"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-4">
        <button class="btn btn-white w-100 p-3 rounded-pill" v-on:click="btnTab('logout')">
            <span>退出登录</span><i class="el-icon-switch-button ms-3"></i>
        </button>
    </div>
</div>
<div class="my-8 text-center">
    <img :src="DEFAULT_LOGO_URL" height="38" class="mb-3" />
    <div class="text-center">
        <small>{{ versionName }} <span class="text-warning">v{{ version }}</span></small>
    </div>
</div>
<div class="py-8"></div>
@section Scripts{
    <script src="/sitefiles/assets/lib/apexcharts/apexcharts.js" type="text/javascript"></script>
    <script src="/sitefiles/assets/lib/apexcharts/vue-apexcharts.js" type="text/javascript"></script>
    <script src="/sitefiles/assets/js/app/mine.js" type="text/javascript"></script>
}
